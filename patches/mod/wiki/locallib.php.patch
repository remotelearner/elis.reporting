diff --git a/mod/wiki/locallib.php b/mod/wiki/locallib.php
index f3a2a54..045c4db 100644
--- a/mod/wiki/locallib.php
+++ b/mod/wiki/locallib.php
@@ -766,7 +766,7 @@ function wiki_user_can_view($subwiki) {
         //      Each person owns a wiki.
         if ($wiki->wikimode == 'collaborative' || $wiki->wikimode == 'individual') {
             // Only members of subwiki group could view that wiki
-            if ($subwiki->groupid == groups_get_activity_group($cm)) {
+            if (groups_is_member($subwiki->groupid)) {
                 // Only view capability needed
                 return has_capability('mod/wiki:viewpage', $context);
 
